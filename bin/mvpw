#!/usr/bin/env python

import pw.cli


class MvPwHelper(pw.cli.CliHelper):

    def process_input(self, cli_input, name):

        if name:
            new_name = raw_input('new name: ')
            credential = self.cli.data.pop(name, None)
            self.cli.data[new_name] = credential
            self.cli.save()
            print '{} renamed to {}'.format(name, new_name)
        else:
            print 'not found'
#
# Main program
#

parser = pw.cli.get_default_file_args('Rename credentials.')
args = parser.parse_args()
pw.cli.Cli().run('rename', MvPwHelper(), args.pw_file,
                 args.credential_name)
